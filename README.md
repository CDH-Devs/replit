# üöÄ Facebook Video Downloader Telegram Bot (Cloudflare Worker)

**üî• C D H Corporation ¬©**

<p align="center">
  <a href="https://t.me/chamoddeshan">
    <img src="https://img.shields.io/badge/Developer-@chamoddeshan-blue.svg?style=for-the-badge&logo=telegram" alt="Developer Telegram">
  </a>
  <a href="https://developers.cloudflare.com/workers/">
    <img src="https://img.shields.io/badge/Platform-Cloudflare%20Workers-orange.svg?style=for-the-badge&logo=cloudflare" alt="Cloudflare Workers">
  </a>
  <a href="https://www.javascript.com/">
    <img src="https://img.shields.io/badge/Language-JavaScript-F7DF1E.svg?style=for-the-badge&logo=javascript" alt="JavaScript">
  </a>
</p>

## üåü ‡∑Ä‡∑ä‚Äç‡∂∫‡∑è‡∂¥‡∑ò‡∂≠‡∑í ‡∂Ø‡∑Ö ‡∑Ä‡∑í‡∑Å‡∑ä‡∂Ω‡∑ö‡∑Ç‡∂´‡∂∫ (Project Overview)

‡∂∏‡∑ô‡∂∫ **Cloudflare Workers** ‡∂∏‡∂≠ ‡∂ö‡∑ä‚Äç‡∂ª‡∑í‡∂∫‡∑è‡∂≠‡∑ä‡∂∏‡∂ö ‡∑Ä‡∂± Telegram Bot ‡∂ë‡∂ö‡∂ö‡∑ä ‡∑Ä‡∂± ‡∂Ö‡∂≠‡∂ª, ‡∂¥‡∂ª‡∑í‡∑Å‡∑ì‡∂Ω‡∂ö‡∂∫‡∑í‡∂±‡∑ä‡∂ß **Facebook ‡∑Ä‡∑ì‡∂©‡∑í‡∂∫‡∑ù** ‡∑É‡∑ò‡∂¢‡∑î‡∑Ä‡∂∏ ‡∂∂‡∑è‡∂ú‡∂≠ (Download) ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂ß ‡∂â‡∂© ‡∑É‡∂Ω‡∑É‡∂∫‡∑í. Bot ‡∂ë‡∂ö ‡∂â‡∑Ñ‡∑Ö ‡∂ö‡∑è‡∂ª‡∑ä‡∂∫ ‡∑É‡∑è‡∂∞‡∂±‡∂∫‡∂ö‡∑ä ‡∑É‡∑Ñ ‡∑Ä‡∑ö‡∂ú‡∂∫‡∂ö‡∑ä ‡∑É‡∂≥‡∑Ñ‡∑è ‡∑É‡∂ö‡∑É‡∑è ‡∂á‡∂≠‡∑í ‡∂Ö‡∂≠‡∂ª, ‡∂¥‡∑ä‚Äç‡∂ª‡∂∞‡∑è‡∂± ‡∑Ä‡∑Å‡∂∫‡∑ô‡∂±‡∑ä ‡∂ú‡∑ú‡∂±‡∑î ‡∑Ñ‡∑î‡∑Ä‡∂∏‡∑è‡∂ª‡∑î‡∑Ä (File Transfer) ‡∑É‡∑Ñ ‡∂¥‡∂ª‡∑í‡∑Å‡∑ì‡∂Ω‡∂ö ‡∂ö‡∑Ö‡∂∏‡∂±‡∑è‡∂ö‡∂ª‡∂´‡∂∫ (User Management) ‡∑É‡∂≥‡∑Ñ‡∑è **Telegram API** ‡∂∑‡∑è‡∑Ä‡∑í‡∂≠‡∑è ‡∂ö‡∂ª‡∂∫‡∑í.

---

## ‚ú® ‡∂¥‡∑ä‚Äç‡∂ª‡∂∞‡∑è‡∂± ‡∑Ä‡∑í‡∑Å‡∑ö‡∑Ç‡∑è‡∂Ç‡∂ú (Key Features)

* **üîó Facebook Video Download:** ‡∂ï‡∂±‡∑ë‡∂∏ ‡∂¥‡∑ú‡∂Ø‡∑î (Public) Facebook ‡∑Ä‡∑ì‡∂©‡∑í‡∂∫‡∑ù ‡∑É‡∂∂‡∑ê‡∂≥‡∑í‡∂∫‡∂ö‡∑ä (Link) ‡∂∂‡∑è‡∂ª‡∂ú‡∑ô‡∂± ‡∑Ä‡∑ì‡∂©‡∑í‡∂∫‡∑ù‡∑Ä ‡∑É‡∑ò‡∂¢‡∑î‡∑Ä‡∂∏ Telegram ‡∑Ä‡∑ô‡∂≠ ‡∂∫‡∑Ä‡∂∫‡∑í.
* **üñºÔ∏è Metadata ‡∑É‡∑Ñ Caption:** ‡∑Ä‡∑ì‡∂©‡∑í‡∂∫‡∑ù‡∑Ä‡∑ö **Title**, **Uploader**, **Duration**, **Views**, ‡∑É‡∑Ñ **Upload Date** ‡∑Ä‡∑ê‡∂±‡∑í ‡∑É‡∂∏‡∑ä‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´ ‡∂≠‡∑ú‡∂ª‡∂≠‡∑î‡∂ª‡∑î ‡∑É‡∑Ñ‡∑í‡∂≠ ‡∂Ü‡∂ö‡∂ª‡∑ä‡∑Ç‡∂´‡∑ì‡∂∫ Caption ‡∂ë‡∂ö‡∂ö‡∑ä ‡∂∫‡∑Ä‡∂∫‡∑í.
* **‚è≥ Progress Simulation:** ‡∑Ä‡∑ì‡∂©‡∑í‡∂∫‡∑ù‡∑Ä ‡∑Ñ‡∂≥‡∑î‡∂±‡∑è‡∂ú‡∑ê‡∂±‡∑ì‡∂∏‡∑ö‡∂Ø‡∑ì ‡∑É‡∑Ñ ‡∂ã‡∂©‡∑î‡∂ú‡∂≠ ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∑ö‡∂Ø‡∑ì (Uploading) ‡∂¥‡∂ª‡∑í‡∑Å‡∑ì‡∂Ω‡∂ö‡∂∫‡∑è‡∂ß ‡∂≠‡∂≠‡∑ä‡∂≠‡∑ä‡∑Ä‡∂∫ ‡∂¥‡∑ô‡∂±‡∑ä‡∑Ä‡∑ì‡∂∏‡∂ß **Progress Bar** ‡∂ë‡∂ö‡∂ö‡∑ä ‡∂¥‡∑ô‡∂±‡∑ä‡∑Ä‡∂∫‡∑í.
* **‚ö†Ô∏è Large File Handling:** 50MB ‡∂ß ‡∑Ä‡∂©‡∑è ‡∑Ä‡∑í‡∑Å‡∑è‡∂Ω ‡∂ú‡∑ú‡∂±‡∑î ‡∑É‡∂≥‡∑Ñ‡∑è, Bot ‡∂ë‡∂ö **‡∑É‡∑ò‡∂¢‡∑î ‡∂∂‡∑è‡∂ú‡∂≠ ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∑ö Link (Direct Download Link)** ‡∂ë‡∂ö‡∂ö‡∑ä ‡∑É‡∂¥‡∂∫‡∂± ‡∂Ö‡∂≠‡∂ª, Telegram ‡∑Ä‡∑ô‡∂≠ ‡∂ã‡∂©‡∑î‡∂ú‡∂≠ ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏ ‡∑Ä‡∑Ö‡∂ö‡∑ä‡∑Ä‡∂∫‡∑í.
* **üëë Admin Panel (Bot Owner ‡∂¥‡∂∏‡∂´‡∑í):**
    * `/start` ‡∑Ñ‡∂ª‡∑Ñ‡∑è ‡∂¥‡∑í‡∑Ä‡∑í‡∑É‡∑í‡∂∫ ‡∑Ñ‡∑ê‡∂ö‡∑í Admin ‡∂∏‡∑ô‡∂±‡∑î‡∑Ä.
    * **üìä Users Count:** Bot ‡∂∑‡∑è‡∑Ä‡∑í‡∂≠‡∑è ‡∂ö‡∂ª‡∂± ‡∂∏‡∑î‡∑Ö‡∑î ‡∂¥‡∂ª‡∑í‡∑Å‡∑ì‡∂Ω‡∂ö‡∂∫‡∑í‡∂±‡∑ä ‡∑É‡∂Ç‡∂õ‡∑ä‚Äç‡∂∫‡∑è‡∑Ä ‡∂∂‡∑ê‡∂Ω‡∑ì‡∂∏‡∑ö ‡∑Ñ‡∑ê‡∂ö‡∑í‡∂∫‡∑è‡∑Ä.
    * **üì£ Broadcast:** ‡∑É‡∑í‡∂∫‡∂Ω‡∑î‡∂∏ ‡∂¥‡∂ª‡∑í‡∑Å‡∑ì‡∂Ω‡∂ö‡∂∫‡∑í‡∂±‡∑ä ‡∑Ä‡∑ô‡∂≠ ‡∂¥‡∂´‡∑í‡∑Ä‡∑í‡∂©‡∂∫‡∂ö‡∑ä (Text, Photo, Video) ‡∂∫‡∑ê‡∑Ä‡∑ì‡∂∏‡∑ö ‡∑Ñ‡∑ê‡∂ö‡∑í‡∂∫‡∑è‡∑Ä.
* **‚öôÔ∏è Performance & Efficiency:** Cloudflare Workers ‡∑Ñ‡∑í serverless ‡∂ú‡∑ò‡∑Ñ ‡∂±‡∑í‡∂ª‡∑ä‡∂∏‡∑è‡∂´ ‡∑Å‡∑í‡∂Ω‡∑ä‡∂¥‡∂∫ (Architecture) ‡∑Ñ‡∑ö‡∂≠‡∑î‡∑Ä‡∑ô‡∂±‡∑ä ‡∂Ö‡∂©‡∑î ‡∂¥‡∑ä‚Äç‡∂ª‡∂∏‡∑è‡∂Ø‡∂∫‡∂ö‡∑ä (Latency) ‡∑É‡∑Ñ ‡∂â‡∑Ñ‡∑Ö ‡∑Ä‡∑í‡∑Å‡∑ä‡∑Ä‡∑É‡∂±‡∑ì‡∂∫‡∂≠‡∑ä‡∑Ä‡∂∫‡∂ö‡∑ä ‡∑É‡∂¥‡∂∫‡∂∫‡∑í.

---

## üìÅ ‡∂ö‡∑ö‡∂≠ ‡∑Ä‡∑ä‚Äç‡∂∫‡∑î‡∑Ñ‡∂∫ (Code Structure)

‡∑Ä‡∑ä‚Äç‡∂∫‡∑è‡∂¥‡∑ò‡∂≠‡∑í‡∂∫ ‡∂¥‡∑Ñ‡∑É‡∑î‡∑Ä‡∑ô‡∂±‡∑ä ‡∂ö‡∑Ö‡∂∏‡∂±‡∑è‡∂ö‡∂ª‡∂´‡∂∫ ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏ ‡∑É‡∂≥‡∑Ñ‡∑è ‡∂¥‡∑ä‚Äç‡∂ª‡∂∞‡∑è‡∂± ‡∂ú‡∑ú‡∂±‡∑î 5‡∂ö‡∂ß ‡∑Ä‡∑ô‡∂±‡∑ä ‡∂ö‡∂ª ‡∂á‡∂≠. **`index.js`** ‡∂ú‡∑ú‡∂±‡∑î‡∑Ä ‡∂¥‡∑ä‚Äç‡∂ª‡∂∞‡∑è‡∂± ‡∂á‡∂≠‡∑î‡∂Ω‡∑ä‡∑Ä‡∑ì‡∂∏‡∑ö ‡∂Ω‡∂ö‡∑ä‡∑Ç‡∑ä‚Äç‡∂∫‡∂∫ ‡∂Ω‡∑ô‡∑É ‡∂ö‡∑ä‚Äç‡∂ª‡∑í‡∂∫‡∑è ‡∂ö‡∂ª‡∂± ‡∂Ö‡∂≠‡∂ª ‡∂Ö‡∂±‡∑ô‡∂ö‡∑î‡∂≠‡∑ä ‡∑É‡∑í‡∂∫‡∂Ω‡∑î‡∂∏ ‡∂∏‡∑ú‡∂©‡∑í‡∂∫‡∑î‡∂Ω (Modules) ‡∂Ü‡∂∫‡∑è‡∂≠ (Import) ‡∂ö‡∂ª‡∂∫‡∑í.

| ‡∂ú‡∑ú‡∂±‡∑î‡∑Ä (File) | ‡∂ö‡∑è‡∂ª‡∑ä‡∂∫‡∂∑‡∑è‡∂ª‡∂∫ (Responsibility) | ‡∑Ä‡∑í‡∑É‡∑ä‡∂≠‡∂ª‡∂∫ (Description) |
| :--- | :--- | :--- |
| **`index.js`** | **Entry Point** | Cloudflare Worker ‡∑Ñ‡∑í `fetch` ‡∑Å‡∑ä‚Äç‡∂ª‡∑í‡∂≠‡∂∫ ‡∂Ö‡∂©‡∂Ç‡∂ú‡∑î ‡∂¥‡∑ä‚Äç‡∂ª‡∂∞‡∑è‡∂± ‡∂ú‡∑ú‡∂±‡∑î‡∑Ä. ‡∑É‡∑í‡∂∫‡∂Ω‡∑î‡∂∏ logic ‡∂Ü‡∂ª‡∂∏‡∑ä‡∂∑ ‡∂ö‡∂ª, incoming updates (`message` ‡∑Ñ‡∑ù `callback_query`) ‡∑Ñ‡∑É‡∑î‡∂ª‡∑î‡∑Ä‡∂∫‡∑í. |
| **`handlers.js`** | **Bot Logic & API Interaction** | `WorkerHandlers` class ‡∂ë‡∂ö ‡∂Ö‡∂©‡∂Ç‡∂ú‡∑î ‡∑Ä‡∑ö. Telegram API ‡∂á‡∂∏‡∂≠‡∑î‡∂∏‡∑ä (sendMessage, sendVideo, editMessage), ‡∂¥‡∂ª‡∑í‡∑Å‡∑ì‡∂Ω‡∂ö ‡∂Ø‡∂≠‡∑ä‡∂≠ ‡∑É‡∂∏‡∑î‡∂Ø‡∑è‡∂∫ (User DB) ‡∑Ñ‡∑ê‡∑É‡∑í‡∂ª‡∑Ä‡∑ì‡∂∏, ‡∑É‡∑Ñ Broadcast logic ‡∂∏‡∑ô‡∑Ñ‡∑í ‡∂á‡∂≠. |
| **`api.js`** | **External Data Fetching** | Facebook ‡∑Ä‡∑ì‡∂©‡∑í‡∂∫‡∑ù Metadata ‡∂Ω‡∂∂‡∑è ‡∂ú‡∑ê‡∂±‡∑ì‡∂∏‡∂ß ‡∑É‡∑Ñ ‡∂∂‡∑è‡∂ú‡∂≠ ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∑ö ‡∑É‡∂∂‡∑ê‡∂≥‡∑í‡∂∫ (Download Link) scrape ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂ß ‡∂Ö‡∑Ä‡∑Å‡∑ä‚Äç‡∂∫ ‡∑Å‡∑ä‚Äç‡∂ª‡∑í‡∂≠ (`getApiMetadata`, `scrapeVideoLinkAndThumbnail`) ‡∂Ö‡∂©‡∂Ç‡∂ú‡∑î ‡∑Ä‡∑ö. |
| **`helpers.js`** | **Formatting** | Text Bold ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏ (`htmlBold`) ‡∑É‡∑Ñ ‡∑Ä‡∑ì‡∂©‡∑í‡∂∫‡∑ù ‡∂ö‡∑è‡∂Ω‡∂∫ (Duration) ‡∂Ü‡∂ö‡∑ò‡∂≠‡∑í‡∂ö‡∂ª‡∂´‡∂∫ (`formatDuration`, `formatCaption`) ‡∑Ä‡∑ê‡∂±‡∑í ‡∂ö‡∑î‡∂©‡∑è ‡∂ã‡∂¥‡∂ö‡∑è‡∂ª‡∂ö ‡∑Å‡∑ä‚Äç‡∂ª‡∑í‡∂≠ ‡∂Ö‡∂©‡∂Ç‡∂ú‡∑î ‡∑Ä‡∑ö. |
| **`config.js`** | **Configurations** | `BOT_TOKEN`, `OWNER_ID`, `API_URL`, `MAX_FILE_SIZE_BYTES`, ‡∑É‡∑Ñ `PROGRESS_STATES` ‡∑Ä‡∑ê‡∂±‡∑í ‡∑É‡∑í‡∂∫‡∂Ω‡∑î‡∂∏ ‡∂±‡∑í‡∂∫‡∂≠‡∂∫‡∂±‡∑ä (Constants) ‡∂Ö‡∂©‡∂Ç‡∂ú‡∑î ‡∑Ä‡∑ö. |

---

## üõ†Ô∏è ‡∑É‡∑ä‡∂Æ‡∑è‡∂¥‡∂±‡∂∫ ‡∑É‡∑Ñ ‡∂∫‡∑ô‡∂Ø‡∑Ä‡∑ì‡∂∏ (Setup & Deployment)

### ‡∂¥‡∑í‡∂∫‡∑Ä‡∂ª 1: ‡∂Ö‡∑Ä‡∑Å‡∑ä‚Äç‡∂∫‡∂≠‡∑è (Prerequisites)

1.  **Telegram Bot Token:** **BotFather** ‡∑Ñ‡∂ª‡∑Ñ‡∑è ‡∂Ω‡∂∂‡∑è‡∂ú‡∂≠‡∑ä ‡∂î‡∂∂‡∂ú‡∑ö Bot Token ‡∂ë‡∂ö.
2.  **Cloudflare Account:** Cloudflare ‡∂ú‡∑í‡∂´‡∑î‡∂∏‡∂ö‡∑ä ‡∑É‡∑Ñ Wrangler CLI ‡∑É‡∑ä‡∂Æ‡∑è‡∂¥‡∂±‡∂∫ ‡∂ö‡∂ª ‡∂≠‡∑í‡∂∂‡∑ì‡∂∏.
3.  **Durable Object/KV (Optional, ‡∂±‡∂∏‡∑î‡∂≠‡∑ä ‡∂±‡∑í‡∂ª‡∑ä‡∂Ø‡∑ö‡∑Å‡∑í‡∂≠‡∂∫‡∑í):** ‡∂¥‡∂ª‡∑í‡∑Å‡∑ì‡∂Ω‡∂ö ‡∂ú‡∂´‡∂±‡∂∫ (User Count) ‡∑É‡∑Ñ Broadcast ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏ ‡∑É‡∂≥‡∑Ñ‡∑è **Cloudflare KV Namespace** ‡∂ë‡∂ö‡∂ö‡∑ä ‡∑É‡∂ö‡∑É‡∑ä ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏.

### ‡∂¥‡∑í‡∂∫‡∑Ä‡∂ª 2: ‡∂ú‡∑ú‡∂±‡∑î ‡∂∫‡∑è‡∑Ä‡∂≠‡∑ä‡∂ö‡∑è‡∂Ω‡∑ì‡∂± ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏ (Update Files)

**`config.js`** ‡∂ú‡∑ú‡∂±‡∑î‡∑Ä ‡∑Ä‡∑í‡∑Ä‡∑ò‡∂≠ ‡∂ö‡∂ª, ‡∂î‡∂∂‡∂ú‡∑ö ‡∂≠‡∑ú‡∂ª‡∂≠‡∑î‡∂ª‡∑î ‡∂∫‡∑ú‡∂Ø‡∑è ‡∂∫‡∑è‡∑Ä‡∂≠‡∑ä‡∂ö‡∑è‡∂Ω‡∑ì‡∂± ‡∂ö‡∂ª‡∂±‡∑ä‡∂±:

```javascript
// config.js

const BOT_TOKEN = '‡∂î‡∂∂‡∂ú‡∑ö_BOT_TOKEN_‡∂∏‡∑ô‡∂≠‡∂±_‡∂á‡∂≠‡∑î‡∂Ω‡∂≠‡∑ä_‡∂ö‡∂ª‡∂±‡∑ä‡∂±'; 
const OWNER_ID = '‡∂î‡∂∂‡∂ú‡∑ö_Telegram_USER_ID_‡∂∏‡∑ô‡∂≠‡∂±_‡∂á‡∂≠‡∑î‡∂Ω‡∂≠‡∑ä_‡∂ö‡∂ª‡∂±‡∑ä‡∂±'; 
const API_URL = "[https://fdown.isuru.eu.org/info](https://fdown.isuru.eu.org/info)"; // ‡∂∏‡∑ô‡∂∫ ‡∑Ä‡∑ô‡∂±‡∑É‡∑ä ‡∂±‡∑ú‡∂ö‡∂ª‡∂±‡∑ä‡∂±
const MAX_FILE_SIZE_BYTES = 50 * 1024 * 1024; // 50MB
